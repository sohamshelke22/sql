CREATE TABLE Employee (
    emp_id INT PRIMARY KEY,
    employee_name VARCHAR(50) NOT NULL UNIQUE,
    street VARCHAR(100),
    city VARCHAR(50)
);

CREATE TABLE Company (
    company_name VARCHAR(50) PRIMARY KEY,
    city VARCHAR(50) NOT NULL
);

CREATE TABLE Works (
    employee_name VARCHAR(50),
    company_name VARCHAR(50),
    salary DECIMAL(10,2),
    FOREIGN KEY (employee_name) REFERENCES Employee(employee_name),
    FOREIGN KEY (company_name) REFERENCES Company(company_name)
);

CREATE TABLE Manages (
    employee_name VARCHAR(50),
    manager_name VARCHAR(50),
    FOREIGN KEY (employee_name) REFERENCES Employee(employee_name),
    FOREIGN KEY (manager_name) REFERENCES Employee(employee_name)
);

INSERT INTO Employee VALUES
(1, 'Amit', 'MG Road', 'Pune'),
(2, 'Neha', 'Park Street', 'Mumbai'),
(3, 'Raj', 'Jayanagar', 'Chennai'),
(4, 'Priya', 'Indiranagar', 'Delhi'),
(5, 'Karan', 'Baner', 'Hyderabad');

INSERT INTO Company VALUES
('TCS', 'Pune'),
('InfoSys', 'Hyderabad'),
('TechM', 'Mumbai'),
('Wipro', 'Bangalore');

INSERT INTO Works VALUES
('Amit', 'TCS', 12000),
('Neha', 'TechM', 15000),
('Raj', 'InfoSys', 9000),
('Priya', 'InfoSys', 11000),
('Karan', 'Wipro', 13000);

INSERT INTO Manages VALUES
('Amit', 'Neha'),
('Raj', 'Priya'),
('Karan', 'Amit');


1️⃣ Find the names of all employees who work for ‘TCS’.
SELECT employee_name
FROM Works
WHERE company_name = 'TCS';

2️⃣ Find the names and company names of all employees sorted in ascending order of company name and descending order of employee names.
SELECT employee_name, company_name
FROM Works
ORDER BY company_name ASC, employee_name DESC;

3️⃣ Change the city of employees working with ‘InfoSys’ to ‘Bangalore’.
UPDATE Employee
SET city = 'Bangalore'
WHERE employee_name IN (
    SELECT employee_name
    FROM Works
    WHERE company_name = 'InfoSys'
);

4️⃣ Find names, street, and city of employees who work for ‘TechM’ and earn more than $10,000.
SELECT E.employee_name, E.street, E.city
FROM Employee E
JOIN Works W ON E.employee_name = W.employee_name
WHERE W.company_name = 'TechM' AND W.salary > 10000;

5️⃣ Add Column Asset to Company table.
ALTER TABLE Company
ADD Asset DECIMAL(12,2);



UPDATE Company SET Asset = 5000000 WHERE company_name = 'TCS';
UPDATE Company SET Asset = 3000000 WHERE company_name = 'InfoSys';
UPDATE Company SET Asset = 4000000 WHERE company_name = 'TechM';
UPDATE Company SET Asset = 4500000 WHERE company_name = 'Wipro';
